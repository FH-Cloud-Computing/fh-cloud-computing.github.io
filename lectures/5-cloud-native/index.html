
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../favicon.svg" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.3" name="generator"/>
<title>5. Cloud-native software development - Cloud Computing 2020</title>
<link href="../../assets/stylesheets/main.947af8d5.min.css" rel="stylesheet"/>
<link href="../../custom.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#the_enemy_of_scalability_state">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Cloud Computing 2020" class="md-header-nav__button md-logo" href="../.." title="Cloud Computing 2020">
<img alt="logo" src="../../logo-wide.svg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Cloud Computing 2020
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              5. Cloud-native software development
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/fh-cloud-computing/website/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          About the course
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
          Lectures
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../exercises/">
          Exercises
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../glossary/">
          Glossary
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Cloud Computing 2020" class="md-nav__button md-logo" href="../.." title="Cloud Computing 2020">
<img alt="logo" src="../../logo-wide.svg"/>
</a>
    Cloud Computing 2020
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/fh-cloud-computing/website/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" id="nav-1" type="checkbox"/>
<label class="md-nav__link" for="nav-1">
      About the course
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="About the course" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-1">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        About the course
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../grading/" title="Grading">
      Grading
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../projectwork/" title="Project work">
      Project work
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../deadlines/" title="Deadlines">
      Deadlines
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../testing/" title="Testing">
      Testing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../help/" title="Getting help">
      Getting help
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Lectures
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Lectures" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Lectures
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../1-cloud-intro/" title="1. Introduction to the Cloud">
      1. Introduction to the Cloud
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2-iaas/" title="2. Infrastructure as a Service">
      2. Infrastructure as a Service
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3-xaas/" title="3. Beyond IaaS">
      3. Beyond IaaS
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../4-containers/" title="4. Containers">
      4. Containers
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        5. Cloud-native software development
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="5. Cloud-native software development">
      5. Cloud-native software development
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#the_enemy_of_scalability_state">
    The enemy of scalability: state
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the_twelve_factor_app">
    The Twelve Factor App
  </a>
<nav aria-label="The Twelve Factor App" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1_codebase">
    1. Codebase
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2_dependencies">
    2. Dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3_configuration">
    3. Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_backing_services">
    4. Backing services
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5_the_build_process">
    5. The build process
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6_stateless_processes">
    6. Stateless processes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7_network_configuration">
    7. Network configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8_process_handling">
    8. Process handling
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9_disposability">
    9. Disposability
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10_developmentproduction_gap">
    10. Development/production gap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11_logs">
    11. Logs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12_tooling">
    12. Tooling
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metrics_collection">
    Metrics collection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health_checks">
    Health checks
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Exercises
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Exercises" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Exercises
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/1-iaas/" title="1. IaaS">
      1. IaaS
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/2-terraform/" title="2. Terraform">
      2. Terraform
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/3-containers/" title="3. Containers">
      3. Containers
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/4-prometheus/" title="4. Prometheus">
      4. Prometheus
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/5-grafana/" title="5. Grafana">
      5. Grafana
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/6-api-integration/" title="6. API integration">
      6. API integration
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Glossary
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Glossary" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Glossary
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../glossary/" title="A-Z">
      A-Z
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#the_enemy_of_scalability_state">
    The enemy of scalability: state
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the_twelve_factor_app">
    The Twelve Factor App
  </a>
<nav aria-label="The Twelve Factor App" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1_codebase">
    1. Codebase
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2_dependencies">
    2. Dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3_configuration">
    3. Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_backing_services">
    4. Backing services
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5_the_build_process">
    5. The build process
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6_stateless_processes">
    6. Stateless processes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7_network_configuration">
    7. Network configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8_process_handling">
    8. Process handling
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9_disposability">
    9. Disposability
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10_developmentproduction_gap">
    10. Development/production gap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11_logs">
    11. Logs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12_tooling">
    12. Tooling
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metrics_collection">
    Metrics collection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health_checks">
    Health checks
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/fh-cloud-computing/website/edit/master/docs/lectures/5-cloud-native/index.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<div class="download"><a download href="index.pdf"><button>Download PDF üñ®Ô∏è</button></a>
<a href="fh-cloud-computing-lecture-5-cloud-native.pptx"><button>Download PPTX üíª</button></a>
<a href="fh-cloud-computing-lecture-5-cloud-native.mp3"><button>Download MP3 üéß</button></a>
<a href="fh-cloud-computing-lecture-5-cloud-native.m4b"><button>Download M4B üéß</button></a>
<a href="#"><button>Watch Video üé¨</button></a>
</div>
<h1>Cloud Native Software Development</h1>
<p>Software development doesn't exist in a vacuum. The software will need to run somewhere. While not every software needs to, or indeed will, scale to Google levels, a little forethought can go a long way towards surviving the first contact with the customer hordes.</p>
<h3 id="the_enemy_of_scalability_state">The enemy of scalability: state<a class="headerlink" href="#the_enemy_of_scalability_state" title="Permanent link">#</a></h3>
<p>Any application that does not store or access data is easy to scale. Simply run more copies of it and put a load balancer in front of it.</p>
<p>State can rear its ugly head in obvious, and in more subtle ways. The obvious point state is, for example, your database. When you have data in your database that's a form of state. You can run as many application servers as you want, if the database can't handle the load you're done. As we discussed in the <a href="../3-xaas/">third lecture</a> scaling databases can be quite tricky since the consistency model may not permit scaling.</p>
<p>A second point of contention is the ability to store data. Integrating an object storage instead of simply writing data to the disk will, again, help with scaling.</p>
<p>A more subtle point of contention may be the storage of sessions. Sessions are usually built by sending the user a session ID via a cookie and then storing a blob of data on the disk or in the database. The problem is not only the storage, but also that moving from a local filesystem to a database may <a href="https://pasztor.at/blog/stop-using-php-sessions/">create a race condition</a> that may present a security issue with your application.</p>
<p>A similar issue arises when near-realtime data exchange is desired between a large amount of users (e.g. a chat application). While a single server can scale to tens of thousands of users, that server is neither redundant, nor will it serve an endless number of users. <a href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern">PubSub</a> systems can help with that.</p>
<h3 id="the_twelve_factor_app">The Twelve Factor App<a class="headerlink" href="#the_twelve_factor_app" title="Permanent link">#</a></h3>
<p>Once we survive the first night after the launch of our application it often becomes time to deal with long-term architectural problems. The <a href="https://12factor.net/">12 factor app</a> is a concept that collects the current best practices of writing applications for the cloud. Keep in mind that these are just guidelines and you should never make a religious tyrade out of following these guidelines. Instead, apply common sense and be pragmatic about what to do.</p>
<h4 id="1_codebase">1. Codebase<a class="headerlink" href="#1_codebase" title="Permanent link">#</a></h4>
<p>This <a href="https://12factor.net/codebase">first guideline</a> is pretty simple: keep your application in a version control system. While this should be the default in 2020 it unfortunately still bears saying.  </p>
<h4 id="2_dependencies">2. Dependencies<a class="headerlink" href="#2_dependencies" title="Permanent link">#</a></h4>
<p>This <a href="https://12factor.net/dependencies">recommendation</a> deals with dependencies. Almost every programming language ecosystem nowadays has a dependency manager to handle downloading dependencies. These dependencies should be declared explicitly in the configuration file for the dependency manager (e.g. <code>package.json</code>, <code>composer.json</code>, <code>pom.xml</code>, etc.)</p>
<p>Furthermore, these dependency managers often create a lock file (<code>npm-package-lock.json</code>, <code>composer.lock</code>, etc.). They record the exact versions, and sometimes hashes of the third party library. This ensures that the same exact version is installed in the development and production builds.</p>
<h4 id="3_configuration">3. Configuration<a class="headerlink" href="#3_configuration" title="Permanent link">#</a></h4>
<p>While in older times configuration files had many formats, modern, container-based applications distinctly move towards <a href="https://12factor.net/config">environment variables</a>. Environment variables are a cross-platform way to provide variables to an application and give a DevOps engineer a flexible way to configure a containerized application.</p>
<h4 id="4_backing_services">4. Backing services<a class="headerlink" href="#4_backing_services" title="Permanent link">#</a></h4>
<p>External databases, caches, etc. <a href="https://12factor.net/backing-services">should be treated as such</a>. This means that the connection options (server name, url, username, password, etc) should be configurable via environment variable and should also be replacable by a system administrator by simply reconfiguring the container.</p>
<p>Testing the testability is especially important with services that are not as well standardized as a MySQL database. For example, many S3 implementations only support Amazon's version and cannot be configured to use alternative providers. An application following this recommendation should be tested against at least one other S3 provider.</p>
<h4 id="5_the_build_process">5. The build process<a class="headerlink" href="#5_the_build_process" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/build-release-run">build recommendation</a> says that the build process should be separated from the runtime configuration and the release process. In practice this means that you don't bake your configuration into your container. It also means that each release should have a version number or date, allowing you to roll back to a specific version.</p>
<h4 id="6_stateless_processes">6. Stateless processes<a class="headerlink" href="#6_stateless_processes" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/processes">processes recommendation</a> says that your application should run as a single program without any shared data between different copies of your application. Any state should be outsourced to an external database or system as mentioned before.</p>
<h4 id="7_network_configuration">7. Network configuration<a class="headerlink" href="#7_network_configuration" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/port-binding">port binding recommendation</a> says that an application is standalone and does not require an external webserver to run. (Typically PHP applications require a bit of legwork to satisfy this requirement.)</p>
<h4 id="8_process_handling">8. Process handling<a class="headerlink" href="#8_process_handling" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/concurrency">concurrency recommendation</a> defines a number of rules for process handling. It requires that it should be possible to run multiple copies of the application, optionally across several machines. It also requires that the application should not <a href="https://en.wikipedia.org/wiki/Daemon_(computing)">daemonize</a>.</p>
<p>While this may seem as trivial with a green field project, it is definitely a challenge for legacy application.</p>
<h4 id="9_disposability">9. Disposability<a class="headerlink" href="#9_disposability" title="Permanent link">#</a></h4>
<p>This <a href="https://12factor.net/disposability">recommendation</a> states that an application should have a fast startup and should also shut down quickly when receiving the TERM signal. Applications should also be able to recover from unexpected crashes.</p>
<h4 id="10_developmentproduction_gap">10. Development/production gap<a class="headerlink" href="#10_developmentproduction_gap" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/dev-prod-parity">dev/prod parity</a> recommendation postulates that developers of apps should strive to have a continuous method of deployment that allows for rapid rollout of updates. This lowers the work a developer needs to go through to deploy and therefore promotes smaller change sets.</p>
<p>Smaller change sets make tracking down issues with deployments easier, but can be impractical when working with larger, slower moving clients. (e.g. banks, telcos, etc.)</p>
<h4 id="11_logs">11. Logs<a class="headerlink" href="#11_logs" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/logs">logs recommendation</a> should simply write logs to the standard output in a standardized form (e.g. JSON). Everything else, like routing or storing logs, is not the applications concern.</p>
<p>In practice each application contains at least some basic logic to filter logs to make it easier to configure the logging level.</p>
<h4 id="12_tooling">12. Tooling<a class="headerlink" href="#12_tooling" title="Permanent link">#</a></h4>
<p>The <a href="https://12factor.net/admin-processes">admin process recommendation</a> concerns itself with the command line tools needed to operate the application. These are things like running database migrations, etc. The recommendation says that these tools should be runnable directly from the applications directory without much extra configuration or installation.</p>
<h3 id="metrics_collection">Metrics collection<a class="headerlink" href="#metrics_collection" title="Permanent link">#</a></h3>
<p>The above 12 factors are, by necessity, limited in scope. The author(s) of those 12 factors have taken many things into account, yet left out others.</p>
<p>One of these is metrics collection. As you will learn in the <a href="../../exercises/4-prometheus/">Prometheus exercise</a>, <a href="https://prometheus.io/">Prometheus</a> has established itself as a defacto standard for monitoring cloud-native applications.</p>
<p>It is not uncommon to see applications include a small webserver that exposes internal metrics <a href="https://github.com/prometheus/docs/blob/master/content/docs/instrumenting/exposition_formats.md">in the Prometheus data format</a>. This makes monitoring exceedingly easy compared to having to configure a separate monitoring service.</p>
<h3 id="health_checks">Health checks<a class="headerlink" href="#health_checks" title="Permanent link">#</a></h3>
<p>When dealing with containerized environments it is very important that applications report accurately when they are ready to serve traffic, and when they are having problems.</p>
<p>This can be achieved by implementing the <a href="https://docs.docker.com/engine/reference/builder/#healthcheck"><code>HEALTHCHECK</code></a> directive in the <code>Dockerfile</code>, or by implementing <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">Liveness, Readiness, and Startup Probles</a> in Kubernetes.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../4-containers/" rel="prev" title="4. Containers">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                4. Containers
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../../exercises/" rel="next" title="Overview">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright ¬© 2020 Janos Pasztor, Peter Wenzl, G√ºnther Pospischil
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.c3dc8c49.min.js"></script>
<script src="../../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="../../player.js"></script>
<script src="../../external.js"></script>
<script src="../../download.js"></script>
</body>
</html>